<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<title>astraDev</title>
	<base href="../">
	<link href="css/menu.css" rel="stylesheet" />
	<link href="css/docs.css" rel="stylesheet" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Calistoga&display=swap" rel="stylesheet">
</head>
<body>
<div class="nav" id="nav">
	<a href="/">Home</a>
	<a href="/about">About Us</a>
	<div class="dropdown active">
		<button class="dropbtn">Docs <i class="fa fa-caret-down"></i></button>
		<div class="dropdown-content">
			<a href="docs/api" class="active">API</a>
			<a href="docs/jarvis">Jarvis Bot</a>
		</div>
	</div>	
	<div class="dropdown">
		<button class="dropbtn">Logins <i class="fa fa-caret-down"></i></button>
		<div class="dropdown-content">
			<a href="https://jarvis.astradev.xyz">Jarvis Web</a>
		</div>
	</div>
	<div class="dropdown">
		<button class="dropbtn">Important Docs <i class="fa fa-caret-down"></i></button>
		<div class="dropdown-content">
			<a href="/policy">Privacy Policy</a>
			<a href="/tos">Terms of Usage</a>
		</div>
	</div>	
	<a class="icon" id="menu"><i class="fa fa-bars"></i></a>
</div>

<div class="content">
	<h1>API Documentation</h1>
	<p>This page is about the API server hosted on: <code class="code">https://api.astradev.xyz</code>. This service is provided free of charge however some restriction apply. The database lists are maintained through community support and active reports from various providers to keep our lists as accurate as possible, however, there as you can guess this list will never be as up to date as your locally installed antivirus software.</p>
	<p>If you do find any issues that are potential security vulnerabilities please report them on <a class="a" href="https://discord.gg/NfQ5u7N">our discord server.</a>  All other general issues can be reported on our dedicated <a class="a" href="https://github.com/astraDev-Ops/astraDev">Github repository.</a></p> 

	<hr>
	<div id="get-api">
		<h3>Get API Status</h3>
		<div class="spanMargin">
			<span class="webRoute GET">GET</span>
			<span>/api?query={ID}</span>
		</div>
		<p>Get the API status of a user account.</p>
			<p class="additionalInfo red">Requires an elevated scope of <b>SERVICE</b></p>
		<p>Returns:</p>
		<table>
			<tr>
				<th>Response Message</th>
				<th>HTTP status</th>
			</tr>
			<tr>
				<td>No Account</td>
				<td>200</td>
			</tr>
			<tr>
				<td>Active</td>
				<td>200</td>
			</tr>
			<tr>
				<td>Disabled</td>
				<td>200</td>
			</tr>
			<tr>
				<td>Banned</td>
				<td>200</td>
			</tr>
		</table>
	</div>
	<div id="post-api">
		<h3>Create API Account</h3>
		<div class="spanMargin">
			<span class="webRoute POST">POST</span>
			<span>/api</span>
		</div>
		<p class="additionalInfo red">Requires an elevated scope of <b>SERVICE</b></p>
		<p>Create a new API user account.</p>
		<p>JSON payload:</p>
		<table>
			<tr>
				<th>Field</th>
				<th>Data Type</th>
				<th>Description</th>
			</tr>
			<tr>
				<td>data</td>
				<td>String</td>
				<td>The user ID as a string</td>
			</tr>
		</table>
		<p>Returns a 200 on successful creation or a 204 if the user already exists</p>
	</div>
	<div id="patch-api">
		<h3>Reset API Key</h3>
		<div class="spanMargin">
			<span class="webRoute PATCH">PATCH</span>
			<span>/api</span>
		</div>
		<p class="additionalInfo red">Requires an elevated scope of <b>SERVICE</b></p>
		<p>Reset and immediately invalid the old API key for an API user.</p>
		<p>JSON payload:</p>
		<table>
			<tr>
				<th>Field</th>
				<th>Data Type</th>
				<th>Description</th>
			</tr>
			<tr>
				<td>data</td>
				<td>String</td>
				<td>The user ID as a string</td>
			</tr>
		</table>
		<p>Returns an API key object</p>
	</div>
	<div id="patch-api-status">
		<h3>Toggle API Status</h3>
		<div class="spanMargin">
			<span class="webRoute PATCH">PATCH</span>
			<span>/api</span>
		</div>
		<p class="additionalInfo red">Requires an elevated scope of <b>SERVICE</b></p>
		<p>Modify the active status for an API user. THIS IS NOT THE SAME AS BANNING.</p>
		<p>JSON payload:</p>
		<table>
			<tr>
				<th>Field</th>
				<th>Data Type</th>
				<th>Description</th>
			</tr>
			<tr>
				<td>data</td>
				<td>String</td>
				<td>The user ID as a string</td>
			</tr>
		</table>
		<p>Returns a JSON message as {"message":BOOL}. True = enabled, False = disabled.</p>
	</div>
	<div id="delete-api">
		<h3>Ban API User</h3>
		<div class="spanMargin">
			<span class="webRoute DELETE">DELETE</span>
			<span>/api</span>
		</div>
		<p class="additionalInfo red">Requires an elevated scope of <b>SERVICE</b></p>
		<p class="additionalInfo orange">Requires an audit log header (x-audit) with a minimum char count of 20.</p>
		<p>Bans an API user account permanently. There are no appeal processes available at this time.</p>
		<p>JSON payload:</p>
		<table>
			<tr>
				<th>Field</th>
				<th>Data Type</th>
				<th>Description</th>
			</tr>
			<tr>
				<td>data</td>
				<td>String</td>
				<td>The user ID as a string</td>
			</tr>
		</table>
		<p>Returns a 200 on successful ban or a 204 when already banned.</p>
	</div>
	<div id="get-file">
		<h3>Get File</h3>
		<div class="spanMargin">
			<span class="webRoute GET">GET</span>
			<span>/file?query={sha256}</span>
		</div>
		<p>Check a file's SHA256 hash with our database to see if a file <b>MIGHT</b> be malicious. THIS DOES NOT REPLACE ANTIVIRUS SOFTWARE.</p>
		<p>Returns a FILE object.<p></p>
	</div>
	<div id="get-url">
		<h3>Get URL</h3>
		<div class="spanMargin">
			<span class="webRoute GET">GET</span>
			<span>/url?query={full-url-with-protocol}</span>
		</div>
		<p>Check a URL with our database to see if a url <b>MIGHT</b> be malicious. THIS DOES NOT REPLACE ANTIVIRUS SOFTWARE.</p>
		<p>Returns a URL object.<p></p>
	</div>
</div>

<script src="js/menu.js"></script>
</body>
</html>